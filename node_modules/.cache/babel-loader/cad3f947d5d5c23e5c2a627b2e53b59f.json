{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jhons\\\\Desktop\\\\Platzi M\\xE1ster\\\\bootstrap-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\jhons\\\\Desktop\\\\Platzi M\\xE1ster\\\\bootstrap-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\jhons\\\\Desktop\\\\Platzi M\\xE1ster\\\\bootstrap-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import axios from\"axios\";export var useFetch=function useFetch(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){function fetchNormal(){return _fetchNormal.apply(this,arguments);}function _fetchNormal(){_fetchNormal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,datos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://cors-anywhere.herokuapp.com/https://api-v3.igdb.com/games',{method:'POST',headers:{'Access-Control-Allow-Origin':'*','Access-Control-Allow-Methods':'POST','Content-type':'application/x-www-form-urlencoded','user-key':'3675a446bba75463e0c389758b48cfdd'},body:'fields name,summary, cover.image_id;sort popularity desc;where rating >= 90;where first_release_date >1577750400 & first_release_date <1598832000;limit 10;'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:datos=_context.sent;setState(datos);case 7:case\"end\":return _context.stop();}}},_callee);}));return _fetchNormal.apply(this,arguments);}fetchNormal();// axios({\n//     url: '/games',\n//     method: 'POST',\n//     headers: {\n//         'Accept': 'application/json',\n//         'user-key': '3675a446bba75463e0c389758b48cfdd',\n//     },\n//     data: 'fields name,summary, cover.image_id;sort popularity desc;where rating >= 90;where first_release_date >1577750400 & first_release_date <1598832000;limit 10;'\n//   })\n//     .then(response => {\n//         const datos = response.data\n//         setState(datos)\n//     })\n//     .catch(err => {\n//         console.error(err);\n//     });\n},[]);return state;};","map":{"version":3,"sources":["C:/Users/jhons/Desktop/Platzi MÃ¡ster/bootstrap-react/src/components/hooks/useFetch.js"],"names":["useEffect","useState","axios","useFetch","state","setState","fetchNormal","fetch","method","headers","body","response","json","datos"],"mappings":"qiBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAO,eAGDF,QAAQ,CAAC,EAAD,CAHP,wCAGpBG,KAHoB,eAGbC,QAHa,eAK3BL,SAAS,CAAC,UAAM,SAEGM,CAAAA,WAFH,2IAEZ,4KAC2BC,CAAAA,KAAK,CAAC,mEAAD,CAAsE,CAC9FC,MAAM,CAAE,MADsF,CAE9FC,OAAO,CAAE,CACL,8BAA+B,GAD1B,CAEL,+BAAgC,MAF3B,CAGL,eAAgB,mCAHX,CAIL,WAAY,kCAJP,CAFqF,CAQ9FC,IAAI,CAAE,6JARwF,CAAtE,CADhC,QACUC,QADV,qCAWwBA,CAAAA,QAAQ,CAACC,IAAT,EAXxB,QAWUC,KAXV,eAYIR,QAAQ,CAACQ,KAAD,CAAR,CAZJ,sDAFY,8CAiBpBP,WAAW,GAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,CApCQ,CAoCN,EApCM,CAAT,CAsCA,MAAOF,CAAAA,KAAP,CACH,CA5CM","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport axios from \"axios\";\r\n\r\nexport const useFetch = ( ) => {\r\n    \r\n    \r\n    const [state, setState] = useState([]);\r\n\r\n    useEffect(() => {\r\n        \r\n        async function fetchNormal(){\r\n            const response = await fetch('https://cors-anywhere.herokuapp.com/https://api-v3.igdb.com/games', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Access-Control-Allow-Origin': '*', \r\n                    'Access-Control-Allow-Methods': 'POST',\r\n                    'Content-type': 'application/x-www-form-urlencoded',\r\n                    'user-key': '3675a446bba75463e0c389758b48cfdd',\r\n                },\r\n                body: 'fields name,summary, cover.image_id;sort popularity desc;where rating >= 90;where first_release_date >1577750400 & first_release_date <1598832000;limit 10;'\r\n            })\r\n            const datos = await response.json()\r\n            setState(datos)\r\n        }\r\n\r\nfetchNormal()\r\n\r\n        // axios({\r\n        //     url: '/games',\r\n        //     method: 'POST',\r\n        //     headers: {\r\n        //         'Accept': 'application/json',\r\n        //         'user-key': '3675a446bba75463e0c389758b48cfdd',\r\n        //     },\r\n        //     data: 'fields name,summary, cover.image_id;sort popularity desc;where rating >= 90;where first_release_date >1577750400 & first_release_date <1598832000;limit 10;'\r\n        //   })\r\n        //     .then(response => {\r\n        //         const datos = response.data\r\n        //         setState(datos)\r\n        //     })\r\n        //     .catch(err => {\r\n        //         console.error(err);\r\n        //     });\r\n\r\n    }, [])\r\n\r\n    return state;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}